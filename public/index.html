<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="stylesheet" href="assets/styles.css" />
  <link href='https://fonts.googleapis.com/css?family=Kumbh Sans' rel='stylesheet'>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
    integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdn.jsdelivr.net/npm/polyline-encoded@0.0.9/Polyline.encoded.min.js"></script>
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@mapbox/leaflet-pip@1.1.0/leaflet-pip.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@turf/turf@6.5.0/turf.min.js"></script>
  <script src="../src/components/adpointer/adpointer.js" defer></script>
  <script src="assets/script.js" defer></script>
  <script src="../src/osmtogeojson.js"></script>
  <script src="../src/components/navigation/navigation.js" defer></script>
  <script src="../src/components/search/search.js" defer></script>
  <script src="../src/components/distance/distance.js" defer></script>
  <script src="../src/components/distance/Polyline.encoded.js" defer></script>
  <script src="../src/components/border.js" defer></script>
  <script src="https://unpkg.com/leaflet.vectorgrid@1.3.0/dist/Leaflet.VectorGrid.bundled.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.21/lodash.min.js"></script>
  <title>WorldMapExplorer</title>
</head>
<header>
  <div class="header-content">
    <div class="logo">
      <img src="map-logo.png" alt="Map Logo" class="map-logo" tabindex="-1" />
      <p id="map-explorer-text" tabindex="1"><b>WorldMapExplorer</b></p>
    </div>
    <div class="header-icons">
      <button class="fa fa-cog" title="Settings" id="settings-btn" style="display: none;"></button>
      <button class="fa fa-bookmark" title="Bookmark" id="bookmark-btn" style="display: none; "></button>
      <button class="fa fa-question-circle" title="Help" id="help-btn" tabindex="1" aria-label="select for read user manual"  onclick="window.location.href='/public/user-guide';" style="cursor: pointer;"></button>
      <button id="login-btn" style="display: none;">Log In</button>
    </div>
  </div>
</header>

<body>
  <div aria-live="polite" role="status" id="live-region" style="visibility: hidden; display: none;">
    <!-- Content that will be announced by screen readers -->
  </div>
  <div id="left-container">
    <div class="box-input" id="search-container" aria-label="search places">
      <input type="text" tabindex="3" id="search-input" placeholder="Search Places" />
      <div id="searchdetails" tabindex="4" class="searchdetails" style="display: none" aria-label="Search results">
        <button class="fas fa-times-circle" id="closeBtnD" aria-label="Close details tab"
          onclick="updateLiveRegion(`details tab closed`)"></button>
        <span aria-live="polite" aria-atomic="true" id="det"></span>
      </div>

    </div>
    <button id="searchbutton" ><i class="fa fa-search"></i></button>

    <button class="fas fa-directions" tabindex="5" id="trigger-icon" aria-label="find distance between places"></button>
  </div>

  <div tabindex="-1" id="controls-box">
    <button class="fa fa-plus" title="Zoom In"></button>
    <button class="fa fa-minus" title="Zoom Out"></button>
    <button class="fa fa-layer-group" title="Layers" id="layers-btn"></button>
    <div id="layers-dropdown" class="dropdown-content">
      <button id="geographical-layer">Geographical</button>
      <button id="political-layer">Political</button>
    </div>
    <button class="fa fa-location-arrow" id="locateme" title="Locate me" aria-label="Locate your location on map"></button>
  </div>

  <div id="infoBox" tabindex="-1">
    Place: <span id="placeDisplay"></span><br /><br />
    Angle: <span id="angleDisplay"></span><br />
    Distance: <span id="distanceDisplay"></span><br />
    Flat Map Distance: <span id="flatdistance"></span><br />
    <h3>coordinates:</h3>
    <pre></pre>
    <span  id="coordinates">
      <span id="lat"></span><br />
      <span id="lng"></span>
    </span>
  </div>

  <!-- Box that appears on icon click -->
  <div class="box" id="box" tabindex="6" aria-label="distance finder opened">
    <button class="fas fa-times-circle" id="closeBtn" aria-label="close distance finder" tabindex="0"
      onclick="updateLiveRegion(`distance finder closed`)"></button>
    <h1>Find Distance</h1>

    <div class="box-input">
      <span><i class="fas fa-circle"></i></span>
      <input type="text" id="beginning" placeholder="Enter Starting point" aria-label="type place and press enter" />
    </div>

    <div class="box-input">
      <span><i class="fas fa-map-marker-alt"></i></span>
      <input type="text" id="destination" placeholder="Enter Destination" aria-label="type place and press enter" />
    </div>
    <button class="fas fa-map-marked-alt" title="Choose from map" id="fromMap" tabindex="-1"></button>
    <button class="fas fa-arrow-circle-right" id="find" title="Find Distance" aria-label=" click to Find distance"
      tabindex="0"></button>
    <div tabindex="6" id="distanceResult" aria-live="polite">
      Distance : <span id="dist"></span><br />
      Time : <span id="time"></span>
    </div>
    <p style="font-size: 10px;" class="text-center"><br>Directions courtesy of <a href="https://gis-ops.com/global-open-valhalla-server-online/" target="_blank">Valhalla (FOSSGIS)</a></p>
  </div>
  <div tabindex="7" aria-label="focused on map. use arrow keys to navigate" id="map"></div>
</body>

</html>